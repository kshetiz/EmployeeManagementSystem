@model IEnumerable<EmployeeViewModel>

@{

    ViewData["Title"] = "Index";
}
<link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css">
<div>
    <a asp-controller="Employee" asp-action="Create" class="btn btn-primary">Add Employee</a>


</div>
<div class="container">
    <br />
    <div style="width:90%; margin:0 auto;">
        <table id="customerDatatable" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
            <thead>
                <tr>
                    
                    <th>Employee Name</th>
                    <th>Salary</th>
                    <th>Start date</th>
                    <th>Position</th>
                    <th>Email</th>
                    <th>Action</th>
                
                </tr>

            </thead>
        </table>
    </div>
</div>

@section Scripts{
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script>
           $(document).ready(function () {
           $("#customerDatatable").DataTable({
               //"processing": true,
               "serverSide": true,
               "filter": true,
               "ajax": {
                   "url": "/employee/getall",
                   "type": "Post",
                   "datatype": "json"
                        },
                   "columnDefs": [{
                    "targets": [0],
                    "visible": true,
                   "searchable": false
           }],
           "columns": [
               { "data": "firstName", "name": "FirstName", "autoWidth": true },
               { "data": "salary", "name": "Salary", "autoWidth": true },
               { "data": "startDate", "name": "StratDate", "autoWidth": true },
               { "data": "positionName", "name": "PositionName", "autoWidth": true },
               { "data": "email", "name": "Email", "autoWidth": true },

               {
               "data":"employeeId", "render": function (data) 
                { console.log(data);
                    return "<a  href='Edit/"+data+"' class='btn btn-primary'>Edit</a><a href='Delete/"+data+"' class='btn btn-danger'>Delete</a><a  href='Delete/"+data+"' class='btn btn-primary'>EmployeeJobHistory</a>";   }
            },
               

           ]
       });
       });

      
</script>

}
